# avito-house-service

### Как запустить сервис

Перед запуском сервиса необходимо установить golang, docker и docker-compose

Для начала нужно склонировать репозиторий и перейти в папку проекта
```bash
    git clone git@github.com:shhesterka04/house-service.git
    cd house-service
```

```bash
    make docker-compose-up
```

### Как запустить тесты

Чтобы запустить все тесты, надо выполнить команду:
    
```bash
    make tests
```

Чтобы запустить только unit-тесты, надо выполнить команду:

```bash
    make unit-tests
```

Чтобы запустить только интеграционные тесты, надо выполнить команду (База данных должна быть запущена в контейнере в исходном состоянии):

```bash
    make integration-tests
```

### Что сделано
- Все обязательные API методы с ограничением доступа по токену
- Unit тесты сервисного слоя
- Интеграционные тесты сценария создания квартир
- Пользовательская авторизация по методам /register и /login c хранением паролей в зашифрованном виде
- Настроен логгер
- Настроена генерация DTO endpoint'ов по openapi схеме

### Какие проблемы возникли
В основном проблемы возникли с генерированным DTO
1. В DTO квартир есть поле id, которое подразумевается как номер квартиры, однако, он не является уникальным id. Поэтому я решил использовать свою структуру DTO, в которой ID - уникальный идентификатор квартиры, а number - номер квартиры
2. В запросе /login принимается uuid пользователя и пароль. Мне показалось это странным и я вместо этого я делаю login по почте и паролю